testsuite README
================



purpose
-------
The test suite provides numerous latex files to test specific
features of the snapshot class snapshotmfo.cls and the template
file template.tex.

Conversly, the test suite can be used to check the sanity of the
latex and snapshots installation on a computer.



prerequisites
-------------
  - latex environment
  - python3
  - pdftk
  
On Windows download and install pdftk-server from
https://www.pdflabs.com.

The scripts should work on Linux, macOS and Windows, but you may
have to adapt them to your system. 



usage
-----
  1. run each scripts with the option --help first
  
  2. run copy_cls_files.py

  3. compile some test_*.tex files that attract your attention
     and edit them ad libitum

  4. run test_junioreditor.py to process the speical subdirectory
     data/junioreditor/
     
  5. run full_test.py and examine the results data/<subdir>/01_result.pdf
     or the overall result data/01_result.pdf


NB: To run the script copy_cls_files.py, say, on any operating system

  1. open a shell, e.g. 'cmd' on Windows, 'bash' on Linux or macOS

  2. change directory to testsuite/programs

  3. enter the command
       python3 copy_cls_files.py



content
-------
 * "data" directory:
 
  - the subdirectory "general" contains language-independent tests
  
  - the subdirectories "lang_*" contain tests of the language
    settings USenglish, ngerman, spanish and french
    
  - the subdirectory "junioreditor" contains automated tests
    of the three languages to be run by test_junioreditor.py
  
  - the unit tests test-*.tex and autogenerated-*.tex are latex
    files, that can be compiled to test most of the changes since
    version 1.2.0 case by case

  - test-hyperref.tex contains quite a bit of documentation
    along with the test

  - test-template.tex is somewhat special as it documents the
    warnings when compiling template.tex

  - external-bibliography.bib is a supplement to
    test-references-from-separate-bib-file.tex. It has been
    created manually and should not be deleted.


 * "programs" directory:

  1. copy_cls_files.py copies files from the main directory into
     the data directories needed to compile the latex files
    
  2. tidy_up.py removes temporary files

  3. test_standard.py executes the tests in the subdirecotries
     other than junioreditor*

  4. "test_junioreditor.py -c <lang>", where lang = USenglish,
     ngerman, spanish or french, runs the tests in data/junioreditor
    
  5. full_test.py runs both standard and junioreditor tests
  
  
NB: The scripts move from short and simple to long and involved.
Moreover they are hierarchically ordered:
  - 5 calls 3 and 4
  - 3 and 4, besides doing some work on their own, call 1 and 2.

The results are stored in the files data/<subdir>/01_result*.pdf
and, in case of full_test.py, in the compound result file
data/01_result.pdf. 
